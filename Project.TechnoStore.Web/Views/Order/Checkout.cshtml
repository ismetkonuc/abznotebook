@model OrderViewModel
@{
    Layout = "_AccountLayout";
}

<div class="container-fluid">
    <div class="row">
        @if (User.Identity.IsAuthenticated)
        {
            @foreach (var address in ViewBag.Address)
            {
                <partial name="AddressPartial" model="address" />
            }

            <div class="col-md-12 mx-auto my-4">
                <form method="post" asp-action="Checkout" enctype="multipart/form-data">
                    <div class="col-md-4">
                        <div class="form-group">
                            <label asp-for="AddressId">Adresler</label>
                            <select class="form-control" asp-for="AddressId" asp-items="@ViewBag.AddressCollection">
                                <option hidden value="-1">Seç</option>
                            </select>
                            <span asp-validation-for="AddressId" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label asp-for="PaymentId">Ödeme Yöntemi</label>
                            <select class="form-control" asp-for="PaymentId" asp-items="@ViewBag.PaymentCollection">
                                <option hidden value="-1">Seç</option>
                            </select>
                            <span asp-validation-for="PaymentId" class="text-danger"></span>
                        </div>

                        <div class="form-group">
                            <label asp-for="ShipperId">Kargo Firması</label>
                            <select class="form-control" asp-for="ShipperId" asp-items="@ViewBag.ShipperCollection">
                                <option hidden value="-1">Seç</option>
                            </select>
                            <span asp-validation-for="ShipperId" class="text-danger"></span>
                        </div>
                        <button type="submit" class="btn btn-outline-success ">Ödemeyi Tamamla</button>
                    </div>
                </form>
            </div>
        }



        else
        {
            <div class="col-md-5"></div>
            <div class="col-md-6">
                Alışveriş yapabilmeniz için
                <a asp-controller="Account" asp-action="Login" class="text-center" asp-route-data="order">giriş yapmalısınız.</a>
            </div>
        }

    </div>
</div>